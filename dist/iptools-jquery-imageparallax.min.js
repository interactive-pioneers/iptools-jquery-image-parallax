/*! iptools-jquery-imageparallax - v0.0.1 - 2015-07-15
* https://github.com/interactive-pioneers/iptools-jquery-image-parallax
* Copyright Â© 2015 Interactive Pioneers GmbH; Licensed GPL */
!function(a,b,c){"use strict";function d(){var b=c.screen.height?c.screen.height:c.innerHeight,d=a(c).scrollTop(),e=parseInt(b/2+d,10);return e}function e(a){var b=a.offset(),c=b.top,d=parseInt(a.height()/2+c,10);return d}function f(b,c){this.$element=a(b),this.settings=a.extend({},h,c),this._defaults=h,this._name=g,this.init()}var g="iptImageParallax",h={scrollFactor:.2};f.prototype.init=function(){this.addEventListeners()},f.prototype.updateViewport=function(a){var b=a.data,c=d(),f=e(b.$element);b.alignImage(c,f)},f.prototype.alignImage=function(a,b){var c=a-b,d=50-c*this.settings.scrollFactor;d=Math.min(d,100),d=Math.max(d,0),this.$element.css("backgroundPosition","50% "+parseInt(d,10)+"%")},f.prototype.addEventListeners=function(){a(b).on("touchstart."+this._name,null,this,this.updateViewport),a(b).on("touchmove."+this._name,null,this,this.updateViewport),a(b).on("touchend."+this._name,null,this,this.updateViewport),a(b).on("touchcancel."+this._name,null,this,this.updateViewport),a(c).on("scroll."+this._name,null,this,this.updateViewport)},f.prototype.destroy=function(){a(b,c).off("."+this._name),this.$element.removeData("plugin_"+g)},a.fn[g]=function(b){return this.each(function(){a.data(this,"plugin_"+g)||a.data(this,"plugin_"+g,new f(this,b))})}}(jQuery,document,window);