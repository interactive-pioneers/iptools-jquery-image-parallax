/*! iptools-jquery-imageparallax - v0.0.5 - 2015-09-01
* https://github.com/interactive-pioneers/iptools-jquery-image-parallax
* Copyright Â© 2015 Interactive Pioneers GmbH; Licensed GPL */
!function(a,b,c){"use strict";function d(b,c){navigator.userAgent.match("CriOS")||(this.$collection=a(b),this.settings=a.extend({},j,c),h(this.$collection),e(this),this.updateAllViewport())}function e(d){a(b).on("touchstart."+i,null,d,d.updateAllViewport).on("touchmove."+i,null,d,d.updateAllViewport).on("touchend."+i,null,d,d.updateAllViewport).on("touchcancel."+i,null,d,d.updateAllViewport),a(c).on("scroll."+i,null,d,d.updateAllViewport)}function f(){var b=c.screen.height?c.screen.height:c.innerHeight,d=a(c).scrollTop(),e=parseInt(b/2+d,10);return e}function g(a){var b=a.offset(),c=b.top,d=parseInt(a.height()/2+c,10);return d}function h(b){var c={};b.each(function(){c=a(this).css("backgroundPosition").split(" "),a(this).data("background-position",{x:c[0],y:c[1]})})}var i="iptImageParallax",j={scrollFactor:.2};d.prototype.updateAllViewport=function(b){var c=b?b.data:this;c.$collection.each(function(){c.updateViewport(a(this))})},d.prototype.updateViewport=function(a){var b=f(),c=g(a),d=b-c,e=50-d*this.settings.scrollFactor,h=a.data("background-position");e=Math.min(e,100),e=Math.max(e,0),e=parseInt(e,10),a.css("backgroundPosition",h.x+e+"%")},d.prototype.destroy=function(){a(b,c).off("."+i),this.$collection.each(function(){a(this).removeData("plugin_"+i)})},a.fn[i]=function(b){a.data(this,"plugin_"+i)||a.data(this,"plugin_"+i,new d(this,b))}}(jQuery,document,window);