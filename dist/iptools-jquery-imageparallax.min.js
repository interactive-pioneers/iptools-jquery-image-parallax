/*! iptools-jquery-imageparallax - v0.0.3 - 2015-08-11
* https://github.com/interactive-pioneers/iptools-jquery-image-parallax
* Copyright Â© 2015 Interactive Pioneers GmbH; Licensed GPL */
!function(a,b,c){"use strict";function d(b,c){this.$element=a(b),this.settings=a.extend({},j,c),this.backgroundPosition=h(this.$element),e(this),this.updateViewport()}function e(d){a(b).on("touchstart."+i,null,d,d.updateViewport).on("touchmove."+i,null,d,d.updateViewport).on("touchend."+i,null,d,d.updateViewport).on("touchcancel."+i,null,d,d.updateViewport),a(c).on("scroll."+i,null,d,d.updateViewport).on("mousewheel."+i,null,d,d.updateViewport)}function f(){var b=c.screen.height?c.screen.height:c.innerHeight,d=a(c).scrollTop(),e=parseInt(b/2+d,10);return e}function g(a){var b=a.$element.offset(),c=b.top,d=parseInt(a.$element.height()/2+c,10);return d}function h(a){var b=a.css("backgroundPosition").split(" ");return{x:b[0],y:b[1]}}var i="iptImageParallax",j={scrollFactor:.2};d.prototype.updateViewport=function(a){var b=a?a.data:this,c=f(),d=g(b),e=c-d,h=50-e*b.settings.scrollFactor;h=Math.min(h,100),h=Math.max(h,0),h=parseInt(h,10),b.$element.css("backgroundPosition",b.backgroundPosition.x+h+"%")},d.prototype.destroy=function(){a(b,c).off("."+i),this.$element.removeData("plugin_"+i)},a.fn[i]=function(b){return this.each(function(){a.data(this,"plugin_"+i)||a.data(this,"plugin_"+i,new d(this,b))})}}(jQuery,document,window);